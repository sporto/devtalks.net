<% layout('../layout') -%>
<% var viewId = uid.generate() %>

<div id="<%= viewId %>" class="videos index ng-cloak" ng-controller="videos.IndexCtrl" data-tags="<%= JSON.stringify(tags) %>">

	<div class="row">
		<div class="large-12 columns">
			<h1>Videos</h1>
			<div class="large-2 columns">
				<ul class="side-nav">
					<!--
						<li><a href="#" ng-click="filter($event, 'latests')">Latests</a></li>
						<li><a href="#" ng-click="filter($event, 'rating')">Highest rating</a></li>
						<li class="divider"></li>
					-->
					<li class="selected_tags">
						<a href="javascript://" ng-repeat="tag in tags | filter: selected" ng-click="clickTag($index, tag)">
							<span  class="radius label">{{tag.key}} <i class="icon-remove"></i></span>
						</a>
					</li>
					<li>Tags:
						<div class="cloud">
							<a href="javascript://" rel="{{tag.value}}" ng-repeat="tag in tags | filter: unselected" ng-click="clickTag($index, tag)">{{tag.key}}</a>
						</div>
					</li>
				</ul>
			</div>
			<div class="large-10 columns">
			
				<div ng-show="videos.length > 0">
					<p>{{videos.length}} videos found for {{selectedTag}}</p>
				</div>

				<div ng-show="videos.length == 0">
					<p>&nbsp;</p>
					<div class="alert-box">
						Select a tag on the left
					</div>
				</div>
				
				<div class="video row" ng-repeat="video in videos">
					<div class="large-3 columns">
						<a ng-href="/videos/{{video._id}}" class="th">
							<img ng-src="{{video.thumbS}}" alt="" />
						</a>
					</div>
					<div class="large-9 columns">
						<h3>{{video.title}}</h3>
						<a ng-href="/videos/{{video._id}}">Watch</a>
					</div>
				</div>
				
			</div>
		
		</div>
	</div>
</div>